title: Uninstall old versions of the |bi| (optional).
ref: uninstall-old-bi
level: 4
pre: |
  If you have an older version of the |bi| installed, uninstall it.

action:
  - heading: "Red Hat Enterprise Linux and CentOS"
    pre: |

    language: sh
    code: |
      sudo yum remove mongodb-bi*

  - heading: "Debian and Ubuntu"
    pre: |

    language: sh
    code: |
      sudo apt-get remove mongodb-bi*

  - heading: "Windows"
    pre: | 

      a. If you are running |bi| as a Windows service:

         - From the Windows Control Panel, click :guilabel:`Administrative
           Tools` and then click :guilabel:`Services`.

         - From the list of services, select :guilabel:`MongoDB BI Connector`.

         - Click on the :guilabel:`Action` menu and select :guilabel:`Stop`.

      b. Delete the MongoDB BI Connector directory.

---
title: Install OpenSSL.
ref: install-prereqs
level: 4
pre: |
  OS X
    Install `Homebrew <http://brew.sh/>`_ and run the following:

    .. class:: copyable-code
    .. code-block:: sh

       sudo brew update && sudo brew install openssl

  Linux
    Ensure that your system has its OpenSSL package installed.

  Windows
    The |bi| for Windows bundles the OpenSSL libraries. You do not
    need to take any special action.
---
title: Install the |bi|.
ref: install-bi-server
level: 4
pre: |
  Download the |bi| for your operating system from the
  `MongoDB Download Center <https://www.mongodb.com/download-center>`_.

action:

  - heading: "Linux / macOS"
    pre: |

      a. Extract the tarball you downloaded.
      b. Install the programs within the ``bin/`` directory into a directory
         listed in your system ``PATH``.

         .. cssclass:: copyable-code
         .. code-block:: sh

            sudo install -m755 bin/mongo* /usr/local/bin/

  - heading: "Windows"
    pre: |

      a. Extract the ZIP file you downloaded.
      b. Save the |bi| directory into a directory you listed in your system ``PATH``.

         .. cssclass:: copyable-code
         .. code-block:: powershell

            move <donwloadDirectory>/bin/* "C:\Program Files\MongoDB BI Connector"

---
title: Generate your schema definition file.
ref: generate-schema
level: 4
pre: |
  Provide a MongoDB server hostname, replace ``dbname`` with the name of your
  database, and optionally replace ``collname`` with the name of a collection.
  If you do not specify a collection, :program:`mongodrdl` will generate a
  schema from all collections in ``dbname``.
action:
  language: sh
  code: |
    mongodrdl --host example.com -d dbname [-c collname] -o schema.drdl
post: |
  .. note::
     The :option:`--host` option only accepts a hostname. You cannot
     provide a :ref:`MongoDB connection string <mongodb-uri>`.

  You can examine the generated ``schema.drdl`` file, and remove any fields or
  tables that are not part of your intended schema.
---
title: Start ``mongosqld``
ref: start-mongosqld
level: 4
action:
  - heading: "Linux / macOS"
    language: sh
    code: |
      mongosqld --schema schema.drdl --mongo-uri <your.mongohost.com>
  - heading: "Windows"
    language: powershell
    code: |
      mongosqld.exe --schema schema.drdl --mongo-uri <your.mongohost.com> --serviceName MongoDB_BI --serviceDisplayName "MongoDB BI Connector" --install

---
title: Connect to the |bi|
level: 4
ref: connect-to-bi-server
content: |
  Launch your business intelligence tool, and connect to the |bi| using
  a MySQL driver and the following settings:

  .. list-table::
     :widths: 20 80
     :stub-columns: 1

     * - Host

       - The hostname of the server on which you installed the |bi| in
         step 1.

     * - Port

       - ``3307`` by default.

  See :doc:`/tutorial/connecting` for more details on connecting to the
  |bi|.
...
